seml:
  executable: experiments/evaluate.py
  name: evaluate
  output_dir: /nfs/students/ayle/RobustnessDetectionPrunedNetworks/logs
  project_root_dir: ..
  conda_environment: inv

slurm:
  experiments_per_job: 1
  sbatch_options:
    gres: gpu:1       # num GPUs
    mem: 8G          # memory
    cpus-per-task: 1  # num cores
    time: 0-02:00     # max time, D-HH:MM
    partition: ['gpu_all']
#    qos: cpu

###### BEGIN PARAMETER CONFIGURATION ######

fixed:
  arguments:
    batch_size: 512

    test_scheme: AdversarialEvaluation
    model: LeNet5
    data_set: FASHION
    eval_ood_data_sets: [ 'MNIST' ]
    eval_attacks: [ 'FGSM', 'L2FGSM' ]
    eval_epsilons: [ 8, 16 ]

    device: cuda
    results_dir: "LeNet5"

    checkpoint_name: "2022-04-09_20.37.58_model=LeNet5_dataset=FASHION_prune-criterion=SNIP_pruning-limit=0.8_train-scheme=DefaultTrainer_seed=1234"
    checkpoint_model: LeNet5_finished

    disable_cuda_benchmark: 1  # speedup (disable) vs reproducibility (leave it)
    disable_autoconfig: 0  # for the brave
    preload_all_data: 0  # load all data into ram memory for speedups

FASHION:
  fixed:
    arguments:
      input_dim: [1, 28, 28]
      output_dim: 10
      hidden_dim: [512]
      N: 60000
      mean: (0.5,)
      std: (0.5,)

#MNIST:
#  fixed:
#    arguments:
#      input_dim: [1, 28, 28]
#      output_dim: 10
#      hidden_dim: [512]
#      N: 60000
#      mean: (0.1307,)
#      std: (0.3081,)

#CIFAR10:
#  fixed:
#    arguments:
#      input_dim: [3, 32, 32]
#      output_dim: 10
#      hidden_dim: [512]
#      N: 60000
#      mean:  (0.4914, 0.4822, 0.4465)
#      std: (0.2471, 0.2435, 0.2616)

#CIFAR100:
#  fixed:
#    arguments:
#      input_dim: [3, 32, 32]
#      output_dim: 100
#      hidden_dim: [512]
#      N: 50000
#      mean:  (0.5071, 0.4865, 0.4409)
#      std: (0.2673, 0.2564, 0.2762)
